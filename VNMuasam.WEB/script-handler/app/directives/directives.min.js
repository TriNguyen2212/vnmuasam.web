var formatMoney=function(n,t){return{require:"?ngModel",restrict:"A",scope:{myModel:"=",precision:"=",formatMoneyNoInput:"="},link:function(n,i){(n.precision==null||n.precision==undefined)&&(n.precision=0);i.maskMoney({allowNegative:!0,thousands:",",decimal:".",affixesStay:!1,allowZero:!0,precision:n.precision});i.keydown(function(r){var u=String.fromCharCode(r.which);if(_.contains(n.formatMoneyNoInput,u)){r.preventDefault();return}t(function(){n.myModel=parseFloat(i.val().replace(new RegExp(",","g"),""));i.trigger("change")})});n.$watch("myModel",function(){$.isNumeric(n.myModel)&&n.myModel.toString().indexOf(".")>0?i.val(n.myModel.toFixed(n.precision)).trigger("mask.maskMoney"):i.val(n.myModel).trigger("mask.maskMoney")})}}},getWidth,lazyLoad,noInput,whenEnter,compile,gridSort,paginationStyle1,inputFormat;formatMoney.$inject=["$filter","$timeout"];getWidth=function(n,t){return{restrict:"A",scope:{getWidth:"="},link:function(n,i){$(function(){n.getWidth=i[0].offsetWidth;t(function(){n.getWidth=i[0].offsetWidth},500)})}}};getWidth.$inject=["$timeout","$interval"];lazyLoad=function(n,t){return{restrict:"A",scope:{fncallback:"&lazyLoad"},link:function(n,i){n.IsLoaded=!1;n.raw=i[0];angular.element(t).bind("scroll",function(){var i=$(n.raw).is(":visible"),t;!n.IsLoaded&&i&&(t=$(n.raw).position().top,this.pageYOffset+this.innerHeight>=t&&(n.fncallback(),n.IsLoaded=!0,n.$apply()))})}}};lazyLoad.$inject=["$timeout","$window"];noInput=function(){return{restrict:"A",scope:{noInput:"="},link:function(n,t){t.bind("keydown keypress",function(t){var i=String.fromCharCode(t.which);_.contains(n.noInput,i)&&t.preventDefault()})}}};noInput.$inject=[];whenEnter=function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.whenEnter)}),t.preventDefault())})}};whenEnter.$inject=[];compile=function(n){return function(t,i,r){t.$watch(function(n){return n.$eval(r.compile)},function(r){i.html(r);n(i.contents())(t)})}};compile.$inject=["$compile"];gridSort=function(){return{restrict:"E",scope:{sort:"=",columnName:"=",fnCallBack:"&"},templateUrl:"/script-handler/app/directives/GridSort/GridSort.html",link:function(){}}};gridSort.$inject=["$timeout"];paginationStyle1=function(n){return{restrict:"E",scope:{pager:"=",totalItems:"=",fnCallBack:"&"},templateUrl:"/script-handler/app/directives/pagination-style/pagination-style.html",link:function(t){function i(){if(!t.pager.CurrentPage||t.pager.CurrentPage<1||t.pager.CurrentPage>t.pager.TotalPages){t.pager.Pages=[];return}if(!t.pager.TotalPages){t.pager.Pages=[];return}r(t.pager.TotalItems,t.pager.CurrentPage,t.pager.PageSize)}function r(n,i,r){var o,e,c,v,l,u;i=i||1;r=r||10;o=t.pager.StartPage||1;e=t.pager.EndPage||10;var s=10,f=[],h=Math.floor(t.pager.TotalPages/s),a=t.pager.TotalPages%s;for(u=1;u<=h;u++)c=(u-1)*r,v=c+s,f.push({Start:c+1,End:v});for(a>0&&f.push({Start:h*s+1,End:h*s+a}),l=!1,u=0;u<f.length;u++)if(i>=f[u].Start&&i<=f[u].End){o=f[u].Start;e=f[u].End;e>10&&e-o<9&&(o=e-9);l=!0;break}l||(i=f[0].Start,o=f[0].Start,e=f[0].End);var y=(i-1)*r,w=Math.min(y+r-1,n-1),p=[];for(u=o;u<=e;u++)p.push(u);i<=0&&(i=1);t.pager.PageSize=r;t.pager.StartPage=o;t.pager.EndPage=e;t.pager.StartIndex=y;t.pager.EndIndex=w;t.pager.Pages=p}t.pager.TotalItems=0;t.pager.TotalPages=0;t.$watch("totalItems",function(){t.pager.TotalItems=t.totalItems;t.InitPager()});t.$watch("pager.CurrentPage",function(){t.InitPager()});t.InitPager=function(){n(function(){t.pager.TotalPages=Math.ceil(t.pager.TotalItems/t.pager.PageSize);t.pager.CurrentPage>t.pager.TotalPages&&(t.pager.CurrentPage=t.pager.TotalPages,t.pager.TotalPages==0&&(t.pager.CurrentPage=1));i()})};t.Exec=function(n){n>t.pager.TotalPages||t.fnCallBack({PageClicked:n})};t.ExecFirst=function(n){n>t.pager.TotalPages&&(n=t.pager.TotalPages);n<=0&&(n=1);t.pager.StartPage=t.pager.StartPage-10;t.pager.EndPage=t.pager.EndPage-10;t.pager.StartPage<=0&&(t.pager.StartPage=1,t.pager.EndPage=10);t.fnCallBack({PageClicked:n})};t.ExecLast=function(n){n>t.pager.TotalPages&&(n=t.pager.TotalPages);t.pager.StartPage=t.pager.EndPage+1;t.pager.EndPage=t.pager.StartPage+9;t.pager.EndPage>t.pager.TotalPages&&(t.pager.EndPage=t.pager.TotalPages,t.pager.StartPage=t.pager.EndPage-9);t.fnCallBack({PageClicked:n})}}}};paginationStyle1.$inject=["$timeout"];inputFormat=function(n){return{require:"?ngModel",restrict:"A",link:function(t,i,r,u){(t.defaultValue=r.defaultValue?r.defaultValue:!1,u)&&(i.bind("keypress",function(n){var i=this.getAttribute("allow-decimal")=="true"?!0:!1,t=n.which||n.keyCode;if(t>47&&t<58||t==8||t==9||t==190||t==39||t==37||t==43||i&&t==46)return!0;n.preventDefault()}),u.$formatters.unshift(function(){return n(r.inputFormat)(u.$modelValue?u.$modelValue:0)}),u.$parsers.unshift(function(u){var f,e,o,s;if(t.defaultValue&&!parseInt(u)&&(u=t.defaultValue),f=u.replace(/[^\d|\.|\-]/g,""),f=f||0,f!="")return e=f.match(/\./g),o=f.match(/\.$/g),e=e!=null&&e.length==1&&o!=null?".":"",s=n(r.inputFormat)(f),i.val(s+e).trigger("change"),parseFloat(f)}))}}};inputFormat.$inject=["$filter"];